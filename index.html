<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaelic Football Rules - Referee Quick Reference</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <div class="landing-content">
            <h1>Gaelic Football Rules</h1>
            <p class="landing-subtitle">Interactive Learning Platform for Referees & Players</p>
            
            <div class="landing-buttons">
                <button class="landing-btn admin-btn">
                    <div class="btn-icon">üîê</div>
                    <div class="btn-text">
                        <h3>Admin Access</h3>
                        <p>Password required ‚Ä¢ Add, edit & manage content</p>
                        <div class="access-badge admin-badge">Administrator Only</div>
                    </div>
                </button>
                
                <button class="landing-btn user-btn">
                    <div class="btn-icon">üìö</div>
                    <div class="btn-text">
                        <h3>Study & Quiz</h3>
                        <p>Browse questions, take quizzes & learn rules</p>
                        <div class="access-badge user-badge">Free Access</div>
                    </div>
                </button>
            </div>
            
            <div class="support-section">
                <div class="support-header">
                    <div class="support-info">
                        <h3>Created by Roy Galvin</h3>
                        <p>Gaelic Football Rules Expert</p>
                    </div>
                </div>
                <p class="support-text">If you find this app helpful, consider supporting the developer:</p>
                <a href="https://buymeacoffee.com/roygalvin" target="_blank" class="support-btn">
                    <span class="support-icon">‚òï</span>
                    Buy Me a Coffee
                </a>
            </div>
        </div>
    </div>

    <!-- Main App (Hidden initially) -->
    <div id="mainApp" class="app-container" style="display: none;">
        <!-- Header -->
        <header class="header">
            <h1>Gaelic Football Rules</h1>
            <div class="header-actions">
                <button id="backToLandingBtn" class="btn btn-secondary">‚Üê Back</button>
                <button id="adminLoginBtn" class="btn btn-secondary" style="display: none;">Admin Login</button>
                <button id="addQuestionBtn" class="btn btn-primary" style="display: none;">+ Add Question</button>
                <a href="https://buymeacoffee.com/roygalvin" target="_blank" class="btn btn-support">
                    ‚òï Support
                </a>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="study">Study Mode</button>
            <button class="tab-btn" data-tab="quiz">Quiz Mode</button>
            <button class="tab-btn" data-tab="categories">Categories</button>
            <button class="tab-btn" data-tab="rules">Rules Reference</button>
            <button class="tab-btn" data-tab="quickref">Quick Reference</button>
            <button class="tab-btn" data-tab="exams">Previous Exams</button>
            <button class="tab-btn" data-tab="analytics">Analytics</button>
        </nav>

        <!-- Header Controls -->
        <div class="header-controls">
            <div class="control-group">
                <button id="darkModeToggle" class="control-btn" title="Toggle Dark Mode">
                    üåô
                </button>
                <button id="voiceCommandBtn" class="control-btn" title="Voice Commands">
                    üé§
                </button>
                <button id="studyTimerBtn" class="control-btn" title="Study Timer">
                    ‚è±Ô∏è
                </button>
            </div>
            <div class="rule-of-day">
                <span id="ruleOfDayBadge">üìñ Rule of the Day</span>
            </div>
        </div>

        <!-- Study Mode -->
        <div id="studyMode" class="tab-content active">
            <div class="search-container">
                <div class="smart-search">
                    <input type="text" id="searchInput" placeholder="Search questions or ask naturally..." class="search-input">
                    <button id="voiceSearchBtn" class="voice-search-btn">üé§</button>
                </div>
                <div id="searchSuggestions" class="search-suggestions"></div>
            </div>
            <div id="questionsList" class="questions-list">
                <!-- Questions will be loaded here -->
            </div>
        </div>

        <!-- Quiz Mode -->
        <div id="quizMode" class="tab-content">
            <div class="quiz-controls">
                <button id="startQuizBtn" class="btn btn-primary">Start Quiz</button>
                <button id="resetQuizBtn" class="btn btn-secondary" style="display: none;">Reset Quiz</button>
                <button id="exportResultsBtn" class="btn btn-secondary" style="display: none;">üìä Export Results</button>
            </div>
            <div id="quizContainer" class="quiz-container" style="display: none;">
                <div class="quiz-progress">
                    <span id="quizProgress">Question 1 of 5</span>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                </div>
                <div id="quizQuestion" class="quiz-question"></div>
                <div id="quizOptions" class="quiz-options"></div>
                <div class="quiz-actions">
                    <button id="nextQuestionBtn" class="btn btn-primary" style="display: none;">Next Question</button>
                    <button id="showAnswerBtn" class="btn btn-secondary">Show Answer</button>
                </div>
            </div>
            <div id="quizResults" class="quiz-results" style="display: none;">
                <h3>Quiz Complete!</h3>
                <p>Score: <span id="quizScore">0/0</span></p>
                <button id="retakeQuizBtn" class="btn btn-primary">Take Another Quiz</button>
            </div>
        </div>

        <!-- Categories Mode -->
        <div id="categoriesMode" class="tab-content">
            <div class="categories-grid">
                <div class="category-card" data-category="technical">
                    <h3>Technical Fouls</h3>
                    <p>Overcarrying, handpassing, etc.</p>
                    <span class="question-count">0 questions</span>
                </div>
                <div class="category-card" data-category="aggressive">
                    <h3>Aggressive Fouls</h3>
                    <p>Cautions, cynical behavior</p>
                    <span class="question-count">0 questions</span>
                </div>
                <div class="category-card" data-category="dissent">
                    <h3>Dissent</h3>
                    <p>Player/official misconduct</p>
                    <span class="question-count">0 questions</span>
                </div>
                <div class="category-card" data-category="setplay">
                    <h3>Set Play</h3>
                    <p>Free kicks, penalties, kick-outs</p>
                    <span class="question-count">0 questions</span>
                </div>
                <div class="category-card" data-category="general">
                    <h3>General Rules</h3>
                    <p>Basic ball handling, positioning</p>
                    <span class="question-count">0 questions</span>
                </div>
                <div class="category-card" data-category="scenarios">
                    <h3>Game Scenarios</h3>
                    <p>Real match situations</p>
                    <span class="question-count">0 questions</span>
                </div>
            </div>
        </div>

        <!-- Rules Reference Mode -->
        <div id="rulesMode" class="tab-content">
            <div class="rules-header">
                <h2>Official Gaelic Football Rules</h2>
                <p>Read the complete official rules and regulations for Gaelic Football</p>
                <div class="rules-actions">
                    <button id="downloadRulesBtn" class="btn btn-secondary">
                        üì• Download PDF
                    </button>
                    <button id="fullscreenBtn" class="btn btn-primary">
                        üîç Fullscreen
                    </button>
                </div>
            </div>
            <div class="pdf-container">
                <iframe 
                    id="rulesPDF" 
                    src="Football Rules.pdf#toolbar=1&navpanes=1&scrollbar=1" 
                    width="100%" 
                    height="600px"
                    title="Gaelic Football Rules PDF">
                </iframe>
            </div>
            <div class="rules-info">
                <h3>üìñ How to Use the Rules Reference</h3>
                <div class="rules-tips">
                    <div class="tip">
                        <strong>üîç Search:</strong> Use Ctrl+F (Cmd+F on Mac) to search within the PDF
                    </div>
                    <div class="tip">
                        <strong>üì± Zoom:</strong> Use the zoom controls in the PDF viewer or browser
                    </div>
                    <div class="tip">
                        <strong>üìÑ Navigate:</strong> Use the PDF navigation panel to jump to specific sections
                    </div>
                    <div class="tip">
                        <strong>üíæ Save:</strong> Click the download button above to save a copy to your device
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Reference Mode -->
        <div id="quickrefMode" class="tab-content">
            <div class="quickref-header">
                <h2>‚ö° Quick Reference Cards</h2>
                <p>Essential rules at a glance - perfect for pre-match review</p>
                <div class="quickref-controls">
                    <button id="prevCardBtn" class="btn btn-secondary">‚Üê Previous</button>
                    <span id="cardCounter">1 of 6</span>
                    <button id="nextCardBtn" class="btn btn-secondary">Next ‚Üí</button>
                </div>
            </div>
            <div class="quickref-container">
                <div id="currentCard" class="quickref-card active">
                <div class="quickref-card" data-category="technical">
                    <div class="card-header">
                        <h3>Technical Fouls</h3>
                        <span class="card-icon">‚öñÔ∏è</span>
                    </div>
                    <div class="card-content">
                        <ul>
                            <li><strong>Overcarrying:</strong> Max 4 steps</li>
                            <li><strong>Handpass:</strong> Fist or open hand</li>
                            <li><strong>Bouncing:</strong> Once after catch</li>
                            <li><strong>Throwing:</strong> Not allowed</li>
                        </ul>
                    </div>
                </div>
                <div class="quickref-card" data-category="aggressive">
                    <div class="card-header">
                        <h3>Aggressive Fouls</h3>
                        <span class="card-icon">üõ°Ô∏è</span>
                    </div>
                    <div class="card-content">
                        <ul>
                            <li><strong>Yellow Card:</strong> Caution</li>
                            <li><strong>Black Card:</strong> 10 min sin bin</li>
                            <li><strong>Red Card:</strong> Sent off</li>
                            <li><strong>Charging:</strong> Shoulder to shoulder only</li>
                        </ul>
                    </div>
                </div>
                <div class="quickref-card" data-category="setplay">
                    <div class="card-header">
                        <h3>Set Play</h3>
                        <span class="card-icon">üéØ</span>
                    </div>
                    <div class="card-content">
                        <ul>
                            <li><strong>Free Kick:</strong> 13m distance</li>
                            <li><strong>Penalty:</strong> 11m from goal</li>
                            <li><strong>Kick-out:</strong> 20m line</li>
                            <li><strong>45m Free:</strong> From 45m line</li>
                        </ul>
                    </div>
                </div>
                <div class="quickref-card" data-category="scoring">
                    <div class="card-header">
                        <h3>Scoring</h3>
                        <span class="card-icon">ü•Ö</span>
                    </div>
                    <div class="card-content">
                        <ul>
                            <li><strong>Goal:</strong> 3 points</li>
                            <li><strong>Point:</strong> 1 point</li>
                            <li><strong>2-Point Free:</strong> Outside 40m arc</li>
                            <li><strong>Mark:</strong> Clean catch from kick-out</li>
                        </ul>
                    </div>
                </div>
                <div class="quickref-card" data-category="timing">
                    <div class="card-header">
                        <h3>Timing</h3>
                        <span class="card-icon">‚è∞</span>
                    </div>
                    <div class="card-content">
                        <ul>
                            <li><strong>Game:</strong> 2 x 30 min</li>
                            <li><strong>Extra Time:</strong> 2 x 10 min</li>
                            <li><strong>Sin Bin:</strong> 10 minutes</li>
                            <li><strong>Injury Time:</strong> Referee's discretion</li>
                        </ul>
                    </div>
                </div>
                <div class="quickref-card" data-category="players">
                    <div class="card-header">
                        <h3>Players</h3>
                        <span class="card-icon">üë•</span>
                    </div>
                    <div class="card-content">
                        <ul>
                            <li><strong>Team Size:</strong> 15 players</li>
                            <li><strong>Substitutes:</strong> 6 allowed</li>
                            <li><strong>Goalkeeper:</strong> Special protection</li>
                            <li><strong>Captain:</strong> Only one can speak to ref</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Previous Exams Mode -->
        <div id="examsMode" class="tab-content">
            <div class="exams-header">
                <h2>üìù Previous Rules Exams</h2>
                <p>Practice with real exam questions from previous years</p>
                <div class="exams-controls">
                    <button id="addExamBtn" class="btn btn-primary">+ Add Exam</button>
                    <button id="filterExamsBtn" class="btn btn-secondary">Filter</button>
                </div>
            </div>
            <div id="examsList" class="exams-list">
                <!-- Exams will be loaded here -->
            </div>
        </div>

        <!-- Analytics Mode -->
        <div id="analyticsMode" class="tab-content">
            <div class="analytics-header">
                <h2>üìä Your Learning Analytics</h2>
                <p>Track your progress and identify areas for improvement</p>
            </div>
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3>üìà Overall Progress</h3>
                    <div class="progress-circle">
                        <div class="progress-number" id="overallProgress">0%</div>
                        <div class="progress-label">Average Score</div>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>üéØ Category Performance</h3>
                    <div id="categoryChart" class="chart-container">
                        <!-- Chart will be rendered here -->
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>‚è±Ô∏è Study Time</h3>
                    <div class="study-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="totalStudyTime">0h 0m</span>
                            <span class="stat-label">Total Time</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="avgSessionTime">0m</span>
                            <span class="stat-label">Avg Session</span>
                        </div>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>üî• Streaks</h3>
                    <div class="streak-info">
                        <div class="streak-item">
                            <span class="streak-number" id="currentStreak">0</span>
                            <span class="streak-label">Day Streak</span>
                        </div>
                        <div class="streak-item">
                            <span class="streak-number" id="bestStreak">0</span>
                            <span class="streak-label">Best Streak</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="insights-section">
                <h3>üí° Smart Insights</h3>
                <div id="insightsList" class="insights-list">
                    <!-- AI-generated insights will appear here -->
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-info">
                    <div class="footer-text">
                        <h4>Created by Roy Galvin</h4>
                        <p>GAA Referee & Developer</p>
                    </div>
                </div>
                <a href="https://buymeacoffee.com/roygalvin" target="_blank" class="footer-support-btn">
                    ‚òï Support the Referee
                </a>
            </div>
        </footer>
    </div>

    <!-- Add Question Modal -->
    <div id="addQuestionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Question</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <form id="addQuestionForm">
                <div class="form-group">
                    <label for="questionText">Question:</label>
                    <textarea id="questionText" required placeholder="Enter your question here..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="questionCategory">Category:</label>
                    <select id="questionCategory" required>
                        <option value="">Select a category</option>
                        <option value="technical">Technical Fouls</option>
                        <option value="aggressive">Aggressive Fouls</option>
                        <option value="dissent">Dissent</option>
                        <option value="setplay">Set Play</option>
                        <option value="general">General Rules</option>
                        <option value="scenarios">Game Scenarios</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Answer Options:</label>
                    <div id="optionsContainer">
                        <!-- Option fields will be added here dynamically -->
                    </div>
                    <button type="button" id="addOptionBtn" class="btn btn-secondary">+ Add Option</button>
                    <p class="form-help">Add at least 2 options and select the correct answer</p>
                </div>
                
                <div class="form-group">
                    <label for="questionExplanation">Explanation (optional):</label>
                    <textarea id="questionExplanation" placeholder="Add any additional explanation or rule reference..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" id="cancelAdd" class="btn btn-secondary">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Question</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Question Detail Modal -->
    <div id="questionDetailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Question Details</h2>
                <button class="close-btn" id="closeDetailModal">&times;</button>
            </div>
            <div id="questionDetailContent">
                <!-- Question details will be loaded here -->
            </div>
            <div class="modal-actions">
                <button id="editQuestionBtn" class="btn btn-secondary">Edit</button>
                <button id="deleteQuestionBtn" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Fullscreen PDF Overlay -->
    <div id="fullscreenOverlay" class="fullscreen-overlay"></div>
    <button id="fullscreenClose" class="fullscreen-close">√ó</button>

    <!-- Study Timer Modal -->
    <div id="studyTimerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚è±Ô∏è Study Timer</h2>
                <button class="close-btn" id="closeTimerModal">&times;</button>
            </div>
            <div class="timer-content">
                <div class="timer-display">
                    <div class="time-remaining" id="timeRemaining">25:00</div>
                    <div class="timer-status" id="timerStatus">Ready to start</div>
                </div>
                <div class="timer-controls">
                    <button id="startTimerBtn" class="btn btn-primary">Start Timer</button>
                    <button id="pauseTimerBtn" class="btn btn-secondary" style="display: none;">Pause</button>
                    <button id="resetTimerBtn" class="btn btn-secondary">Reset</button>
                </div>
                <div class="timer-settings">
                    <h4>Timer Settings</h4>
                    <div class="setting-group">
                        <label for="studyDuration">Study Duration (minutes):</label>
                        <input type="number" id="studyDuration" value="25" min="5" max="120">
                    </div>
                    <div class="setting-group">
                        <label for="breakDuration">Break Duration (minutes):</label>
                        <input type="number" id="breakDuration" value="5" min="1" max="30">
                    </div>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="autoStartBreaks"> Auto-start breaks
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Voice Commands Modal -->
    <div id="voiceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üé§ Voice Commands</h2>
                <button class="close-btn" id="closeVoiceModal">&times;</button>
            </div>
            <div class="voice-content">
                <div class="voice-status">
                    <div class="voice-indicator" id="voiceIndicator">
                        <div class="mic-icon">üé§</div>
                        <div class="status-text" id="voiceStatus">Click to start listening</div>
                    </div>
                </div>
                <div class="voice-controls">
                    <button id="startVoiceBtn" class="btn btn-primary">Start Listening</button>
                    <button id="stopVoiceBtn" class="btn btn-secondary" style="display: none;">Stop Listening</button>
                </div>
                <div class="voice-transcript">
                    <h4>What you said:</h4>
                    <div id="voiceTranscript" class="transcript-text">Ready for voice input...</div>
                </div>
                <div class="voice-commands">
                    <h4>Available Commands:</h4>
                    <ul>
                        <li>"Search for [topic]" - Find questions about a topic</li>
                        <li>"Show technical fouls" - Filter by category</li>
                        <li>"Start quiz" - Begin a new quiz</li>
                        <li>"Show rules" - Open rules reference</li>
                        <li>"What is [rule]" - Get rule explanation</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Exam Modal -->
    <div id="addExamModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìù Add Previous Exam</h2>
                <button class="close-btn" id="closeExamModal">&times;</button>
            </div>
            <form id="addExamForm">
                <div class="form-group">
                    <label for="examTitle">Exam Title:</label>
                    <input type="text" id="examTitle" required placeholder="e.g., 2023 County Referee Exam">
                </div>
                <div class="form-group">
                    <label for="examYear">Year:</label>
                    <input type="number" id="examYear" required min="2000" max="2030" value="2023">
                </div>
                <div class="form-group">
                    <label for="examLevel">Level:</label>
                    <select id="examLevel" required>
                        <option value="">Select level</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                        <option value="county">County</option>
                        <option value="provincial">Provincial</option>
                        <option value="national">National</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="examDescription">Description (optional):</label>
                    <textarea id="examDescription" placeholder="Brief description of the exam..."></textarea>
                </div>
                <div class="form-group">
                    <label>Exam Questions:</label>
                    <div id="examQuestionsContainer">
                        <!-- Questions will be added here dynamically -->
                    </div>
                    <button type="button" id="addExamQuestionBtn" class="btn btn-secondary">+ Add Question</button>
                </div>
                <div class="form-actions">
                    <button type="button" id="cancelExam" class="btn btn-secondary">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Exam</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Rule of the Day Modal -->
    <div id="ruleOfDayModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìñ Rule of the Day</h2>
                <button class="close-btn" id="closeRuleModal">&times;</button>
            </div>
            <div class="rule-content">
                <div class="rule-header">
                    <h3 id="ruleOfDayTitle">Rule 4.1 - Overcarrying</h3>
                    <span class="rule-date" id="ruleOfDayDate">Today</span>
                </div>
                <div class="rule-body">
                    <p id="ruleOfDayText">A player may carry the ball for a maximum of four consecutive steps or hold it for no longer than the time needed to take four steps.</p>
                </div>
                <div class="rule-example">
                    <h4>üí° Example:</h4>
                    <p id="ruleOfDayExample">If a player catches the ball and runs more than four steps without bouncing, toe-tapping, or releasing the ball, it's a technical foul.</p>
                </div>
                <div class="rule-penalty">
                    <h4>‚öñÔ∏è Penalty:</h4>
                    <p id="ruleOfDayPenalty">Free kick to the opposing team from where the foul occurred.</p>
                </div>
                <div class="rule-actions">
                    <button id="addToFavoritesBtn" class="btn btn-secondary">‚ù§Ô∏è Add to Favorites</button>
                    <button id="practiceRuleBtn" class="btn btn-primary">üéØ Practice This Rule</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 